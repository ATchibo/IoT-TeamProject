#:import QRCodeWidget kivy_garden.qrcode

<ConnectPage>:
    name: "connect"

    MDGridLayout:
        cols: 2
        size: root.width, root.height

        MDRelativeLayout:
            id: rel_layout
            cols: 1

            MDLabel:
                id: info_label
                text: root.info_text
                font_size: 20
                halign: "center"
                size_hint: 0.9, 0.1
                pos_hint: {"center_x": 0.5, "center_y": 0.8}

            MDFillRoundFlatButton:
                id: connect_button
                text: "Start connect"
                font_size: 20
                elevation: 1
                size_hint: 0.5, 0.1
                text_color: 1, 1, 1, 1
                pos_hint: {"center_x": 0.5, "center_y": 0.35}
                on_release: root.start_connect()

            MDFillRoundFlatButton:
                text: "Back"
                font_size: 20
                elevation: 1
                size_hint: 0.5, 0.1
                text_color: 1, 1, 1, 1
                pos_hint: {"center_x": 0.5, "center_y": 0.15}
                on_release:
                    app.root.ids.screen_manager.current = "home"
                    app.root.ids.toolbar.title = "Home"
                    root.manager.transition.direction = "right"

        QRCodeWidget:
            id: qr_code
            data: root.qr_data